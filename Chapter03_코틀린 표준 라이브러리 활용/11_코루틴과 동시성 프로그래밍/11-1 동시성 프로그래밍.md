> ```여러개의 실행 루틴을 동작시키는 멀티스레드 대신 좀 더 다루기 쉬운 코루틴을 사용한다.```

# 11-1 동시성 프로그래밍


#### 동기적
한개의 루틴을 완료한 후 다른 루틴을 실행하는 방식

#### 비동기적 
여러개의 루틴이 선행 작업의 순서나 완료여부와 상관없이 실행되는 방식

-----------
## 코루틴
>**co**(함께 동시에) + **routine** (하나의 개별적인 작업)
넌블로킹 또는 비동기 코드를 동기코드처럼 쉽게 작성하면서도 비동기 효과를 낼 수 있다.

### [용어 알아보기]
#### 블로킹
![](https://velog.velcdn.com/images/5905kjh/post/54170006-96db-4456-93fb-050355f65106/image.png)
- 과정이 수행될 때까지 A의 코드가 진행되지 않고 내부 메모리 영역에서 작업이 마무리 될때까지 코드가 멈추게됨 => 블로킹하고 있다.
#### 넌블로킹
![](https://velog.velcdn.com/images/5905kjh/post/a9bb0243-e9b3-409d-b643-bf1a4cb9c3ca/image.png)
- EAGAIN과 같은 시그널을 A가 받아서 실행을 재개 할 수 있음 
- 완료 시그널을 받을 후 콜백 루틴등을 호출해 완료된 이후의 일을 처리 할 수 있음
=> 좀더 좋은 성능
- 위 그림에서는 동시 수행처럼 보이지만 프로세서 코어수에 따라 동시에 수행될 수도 있고 두개의 태스크를 자주 교환해 동시에 수행 되는것 처럼 보이게 할 수 있다 (병행수행)

#### 프로세스
프로세스는 실행중인 프로그램 (os로 부터 필요한 자원을 받아 프로세스가 됨) , 실제로 작업을 수행하는 것이 스레드(프로세스 내에서 stack만 할당받고 코드 데이터 힙은 공유)

- 하나의 프로그램이 실행되면 프로세스가 시작된다.
- 스레드에 비해 많은 비용이든다.
#### 스레드
- 자신의 스택만 독립적으로 가지고 나머지는 대부분 스레드끼리공유해 비용이 낮다.
- 멀티 스레드를 구현하면 코드가 복잡해진다.

=> 코루틴은 _문맥교환_이 없고 최적화된 비동기 함수를 통해 비선점형으로 작동하는 특징이 있어 _협력형 멀티태스킹_을 구현할 수 있게 해준다.

	+ 문맥교환: (하나의 태스크가 CPU를 사용하고 있는 상태에서 다른 태스크가 CPU를 사용하도록 하기위해 이전의 프로세스의 상태를 보관하고 새로운 프로세스의 상태를 적재하는 과정)
    협력형 멀티태스킹 :(태스크들이 자발적으로 양보하며 실행을 바꿀수있는개념)

